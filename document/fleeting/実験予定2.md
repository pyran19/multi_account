## 実験計画(手動レポート)

前提として全てのn,vパターンを網羅するようなプランは考えていない. それするなら解析解作るべき
- 概要としてnを揃えてざっくりとしたvパターンをいくつか眺める。
    - 均等配置、偏在配置、局在配置

- まず2番目仮説を検証する必要がある。
    - 条件ばらけさせて2が多いね も１つの案ではある. ただし例外も多い。 例外を数値誤差と言い切るには結局定量的な検証が必要
        - 結局数値的な検証を始めに行う必要性. その分2番目仮説の検証に必要な情報に絞る
    - 結局アカウント毎に色分けしたx-Pプロットを条件変えて行うのが最適か？
    - 二番目仮説の検証という観点ではvの分布が明確に順序づけられてる方が良い
        - 等間隔条件 v1=v0,v2=v0+dv, v3=v0+2dv,... vr=v0+(r-1)dv
        - ベースラインv0,差dv,残り試合数nの３パラメータ

- それらを確認した上での定量評価。
   - 残り試合数nでどのくらい増えるか？
   - vの分布はどのような形がベストでi番目のアカウントはどのくらいの関数系で最終レートの期待値を変えるか？
   - dim(v)=r=アカウント数はどう影響が出るか？

### 2番目仮説検証のためのx-Pプロット

- 等間隔条件で各パラメータを固定して1パラメータずつ検証
- n-Pプロット
- v0-Pプロット
- dv-Pプロット <- こいつの重要性が下がる。小さいほど差が見えにくくなるだけなのが見えてる

#### 共通仕様
- x-Pプロット用のデータフォーマットとグラフ描画システムを別途作成
    - x,P1,P2,P3,....のcsvで保存. 整数レート表現(期待値なので整数にはならない)
    - xを横軸、P1,...を縦軸に重ねて表示
- データだけでなく、描画した画像や細かい条件との紐づけも重要
    - xp_{data:yyyymmddHHMMSS}.csvと任意名.jsonとxp_{data:yyyymmddHHMMSS}.png(グラフ画像)
    - jsonではcsvとグラフ画像への参照を持たせて、その他の条件も記載. json見れば計算条件を特定できるようにする。
    - 参照は最初空欄で作ってcsvとグラフの生成時にIDを記入
- xの候補と固定する部分を受け取り、xを変えながらデータを作成. 全データを取ったらグラフ化
    - x候補と固定部分に対して対応する(n,v)を一覧にする関数があればその後で実装済みの関数に渡すだけで良い
- P1,P2,....Prを求めるにはvのうち一つの成分だけが隣にずれた状態の期待値が必要。たとえば(n,v)のP1では(n-1,v1±1,v2,...vr)の期待値が必要.まとめて求めるための関数作る

#### jsonフォーマット
- ベース名(x-Pプロットではxp)毎に必要な情報可変
- jsonファイル名は何のデータかわかりやすい名前を自由につける
- csvとグラフ画像への参照は必須
- その他付加情報はxpでは以下
    - アカウント数r
    - xの種類(xを何にしたかの記録方法がややこしいことに気づいた)
        - xの種類ごとにどこを固定値にするかは別途作成

##### n-Pプロット
- vの各レートを固定

##### v0-Pプロット
- vi=v0+(i-1)dvの形でレート列を与えてdv,nを固定




### 2番目仮説検証後の定量評価

ここの話題に関してはn-Pプロットが全て. アカウント数rを増やした時の挙動等もわかる
- 2番目仮説の結果を見て主要な影響与えるパラメータの実験に絞る
    - 例えば2番目仮説が予想通りで2番の影響が著しく大きい場合、他のアカウントを適当に固定/v2からの相対値にしてv2-Pプロットが有効
    - 仮説が違う場合でもどのアカウントが主要かは出てるはずなのでそれらの考察
